(function(e){function t(t){for(var n,r,i=t[0],l=t[1],c=t[2],u=0,m=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},o={app:0},s=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0a01":function(e,t,a){},"19da":function(e,t,a){"use strict";a("7bd1")},"1ac8":function(e,t,a){"use strict";a("c64f")},"3f7b":function(e,t,a){},"438d":function(e,t,a){"use strict";a("7218")},"56d7":function(e,t,a){"use strict";a.r(t);var n,o,s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("app-navbar",{attrs:{darkMode:e.darkMode}}),a("router-view",{attrs:{darkMode:e.darkMode},on:{toggleDarkMode:e.toggleDarkMode}})],1)},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("container",[a("nav",[a("router-link",{attrs:{to:"/"}},[e._v("Home")]),a("router-link",{attrs:{to:"/games"}},[e._v("Games")]),a("router-link",{attrs:{to:"/avatar"}},[e._v("Avatar Shop")]),a("router-link",{attrs:{to:"/develop"}},[e._v("Create")])],1)])],1)},c=[],d={name:"navbar",props:["darkMode"]},u=d,m=(a("1ac8"),a("19da"),a("2877")),h=Object(m["a"])(u,l,c,!1,null,null,null),p=h.exports,g={},f=Object(m["a"])(g,n,o,!1,null,null,null),v=f.exports,b={name:"app",components:{AppNavbar:p,AppFooter:v},data(){const e=localStorage.getItem("dark-mode");return{darkMode:"false"!==e&&null!==e,updateExists:!1,refreshing:!1}},methods:{toggleDarkMode(){this.darkMode=!this.darkMode,localStorage.setItem("dark-mode",this.darkMode),this.darkMode?this.$el.classList.add("dark"):this.$el.classList.remove("dark")},refresh(){this.updateExists&&(this.updateExists=!1,this.registration&&this.registration.waiting&&this.registration.waiting.postMessage({type:"SKIP_WAITING"}))}},created(){},mounted(){this.darkMode&&this.$el.classList.add("dark")}},k=b,w=Object(m["a"])(k,r,i,!1,null,null,null),y=w.exports,x=a("2b27"),_=a.n(x),S=a("9483");Object(S["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(e){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swUpdated",{detail:e}))},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var E=a("8c4f"),M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"games-page"}},e._l(e.sorts,(function(t,n){return a("div",{key:n},[a("game-sort",{attrs:{displayName:t.displayName,token:t.token,name:t.name,targetId:t.gameSetTargetId,pageId:e.context.pageId}})],1)})),0)},C=[];a("8d61"),a("5345");const I=e=>{for(var t=0;t<e.headers.length;t++)console.log(e.headers[t]);if(!e.ok)throw new Error("Failed to load game sorts.");return e.json()},O="https://btr-rbx.herokuapp.com/app/";var j=new class{constructor(){}fetchSorts(){const e=new Headers;e.set("Accept","application/json");const t=new Request(O+"games/sorts",{method:"GET",headers:e,mode:"cors"});return Promise.all([fetch(t).then(I)]).catch(e=>{if(localStorage["source-games"]){console.error(e);const t=JSON.parse(localStorage["source-games"]);return t}throw e})}fetchGamesFromToken(e,t,a){const n=new Headers;n.set("Accept","application/json");const o=new Request(O+`games/lists?token=${e}&gameSetTargetId=${t}&startRows=0&maxRows=32&hasMoreRows=true&sortPosition=0&pageContext.pageId=${a}`,{method:"GET",headers:n,mode:"cors"});return Promise.all([fetch(o).then(I)]).catch(e=>{if(localStorage["source-games"]){console.error(e);const t=JSON.parse(localStorage["source-games"]);return t}throw e})}fetchGamesFromName(e){const t=new Headers;t.set("Accept","application/json");const a=new Request(O+"games/list?name="+e,{method:"GET",headers:t,mode:"cors"});return Promise.all([fetch(a).then(I)]).catch(e=>{if(localStorage["source-games"]){console.error(e);const t=JSON.parse(localStorage["source-games"]);return t}throw e})}fetchThumbnails(e){const t=new Headers;t.set("Accept","application/json");const a=new Request(O+"thumbnails/games/icons?universeIds="+e,{method:"GET",headers:t,mode:"cors"});return Promise.all([fetch(a).then(I)]).catch(e=>{if(localStorage["source-games"]){console.error(e);const t=JSON.parse(localStorage["source-games"]);return t}throw e})}},P={name:"games",props:["darkMode"],params:["id"],data(){return{sorts:[],context:[]}},methods:{loadSorts(){j.fetchSorts().then(e=>{this.sorts=e[0].sorts,console.log(this.sorts),this.context=e[0].pageContext})},toggleDarkMode(){this.$emit("toggleDarkMode")},handleRoute(e){console.log(e)}},watch:{$route(e){this.handleRoute(e)}},created(){this.handleRoute(this.$route),this.loadSorts(),document.title="Games | Better Roblox"}},$=P,T=(a("ea38"),Object(m["a"])($,M,C,!1,null,null,null)),N=T.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-content",attrs:{id:"game-detail-page"}},[a("div",{staticClass:"section-content game-main-content"},[a("div",{staticClass:"game-thumb-container"},[a("vueper-slides",{staticClass:"carousel-inner no-shadow",attrs:{fade:"",touchable:!1,bullets:!0,autoplay:!0,slideImageInside:!0}},e._l(e.thumbnails,(function(t,n){return a("vueper-slide",{key:n,staticClass:"inner-content",scopedSlots:e._u([{key:"content",fn:function(){return[a("img",{staticClass:"item carousel",attrs:{src:t.image,alt:""}})]},proxy:!0}],null,!0)})})),1)],1)])])},R=[],A=a("b1b5"),B={name:"game",props:["darkMode"],components:{VueperSlides:A["VueperSlides"],VueperSlide:A["VueperSlide"]},data(){return{id:0,thumbnails:[]}},methods:{handleRoute(e){this.id=e.params.id}},watch:{$route(e){this.handleRoute(e)}},created(){this.handleRoute(this.$route),console.log("loaded game page"),this.thumbnails=[{title:"test",image:"https://t1.rbxcdn.com/bcfc353dddc4b85dfa974827097a7b58"},{title:"test",image:"https://t0.rbxcdn.com/76f73dcd7b895e32b13730091ce18706"},{title:"test",image:"https://t0.rbxcdn.com/fc0dd732255ce2471e731caf605e81c0"},{title:"test",image:"https://t4.rbxcdn.com/b83448f9cdbe34875c6564b4d9acc0b2"},{title:"test",image:"https://t4.rbxcdn.com/edfe077ea19a8bfc63d5513d64cfb27d"}]}},F=B,V=(a("438d"),Object(m["a"])(F,G,R,!1,null,null,null)),z=V.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("slide",{attrs:{id:"unknown-route"}},[a("unknown-page",{attrs:{type:"route",darkMode:e.darkMode}})],1)},J=[],q={name:"unknown-route",props:["darkMode"]},H=q,L=(a("e283"),Object(m["a"])(H,D,J,!1,null,null,null)),U=L.exports;s["a"].use(E["a"]);var W=new E["a"]({routes:[{path:"/games",name:"games",component:N,children:[]},{path:"/games/:id",name:"game-page",component:z},{path:"*",component:U}]}),K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._t("default")],2)},Q=[],X={name:"container"},Y=X,Z=(a("88b1"),Object(m["a"])(Y,K,Q,!1,null,null,null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slide"},[a("container",[e._t("default")],2)],1)},ae=[],ne={name:"slide"},oe=ne,se=(a("6045"),Object(m["a"])(oe,te,ae,!1,null,null,null)),re=se.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Unknown "+e._s(e.type||"page"))]),a("h3",[e._v("This page doesn't actually exist. Oh no!")]),a("p",[e._v("404 | Page Not Found")])])},le=[],ce={name:"unknown-page",props:["type","darkMode"]},de=ce,ue=Object(m["a"])(de,ie,le,!1,null,null,null),me=ue.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"game-sort"}},[a("div",{staticClass:"container-header"},[a("h3",[e._v(e._s(e.displayName))])]),a("div",{staticStyle:{cursor:"pointer"},on:{click:e.nextSort}}),a("div",{staticClass:"horizontal-contents"},[a("div",{staticClass:"arrow-left",attrs:{id:"arrow"},on:{click:e.prevSort}},[a("svg",{attrs:{viewBox:"0 0 9 18",width:"28",height:"28"}},[a("path",{attrs:{"stroke-linecap":"round",d:"m 7 1 -6 8 6 8",stroke:"#fff","stroke-width":"1",fill:"none"}})])]),a("div",{staticClass:"sort-container"},[a("div",{staticClass:"horizontal-scroller",staticStyle:{left:"0px"},attrs:{id:"list"+e.name}},[a("div",{staticClass:"horizontally-scrollable",attrs:{id:"elements"+e.name}},e._l(e.games,(function(e,t){return a("div",{key:t,staticClass:"inner-content"},[a("game-card",{attrs:{game:e}})],1)})),0)])]),a("div",{staticClass:"arrow-right",attrs:{id:"arrow"},on:{click:e.nextSort}},[a("svg",{attrs:{viewBox:"0 0 9 18",width:"28",height:"28"}},[a("path",{attrs:{"stroke-linecap":"round",d:"m 1 1 7 8 -7 8",stroke:"#fff","stroke-width":"1",fill:"none"}})])])])])},pe=[],ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-item game-card game-tile game-card-container"},[a("router-link",{attrs:{to:{name:"game-page",params:{id:e.game.placeId}}}},[a("div",{staticClass:"game-card-thumb-container"},[a("img",{staticClass:"game-card-thumb",attrs:{src:e.game.imageUrl,alt:e.game.name,title:e.game.name}})]),a("div",{staticClass:"game-card-name game-name-title",attrs:{title:"game.name"}},[e._v(" "+e._s(e.game.name)+" ")])])],1)},fe=[],ve={props:["id","title","game"],data(){return{}},methods:{async loadThumbnail(){}}},be=ve,ke=(a("8447"),Object(m["a"])(be,ge,fe,!1,null,null,null)),we=ke.exports,ye={components:{GameCard:we},name:"game-sort",props:["displayName","token","name","targetId","pageId"],components:{VueperSlides:A["VueperSlides"],VueperSlide:A["VueperSlide"],GameCard:we},data(){return{games:[],Position:0}},methods:{async loadGames(){j.fetchGamesFromToken(this.token,this.targetId,this.pageId).then(e=>{let t="",a={},n=!1;e[0].games.forEach(e=>{t+=(n?",":"")+e.universeId,n=!0,a[e.universeId]=e}),j.fetchThumbnails(t).then(t=>{t[0].data.forEach(e=>{"Completed"===e.state&&a[e.targetId]&&(a[e.targetId].imageUrl=e.imageUrl)}),this.games=e[0].games})})},nextSort(){var e=document.getElementById("list"+this.name),t=(document.getElementById("elements"+this.name),e.clientWidth);this.Position-=t,this.calculateExtents(-t)},prevSort(){var e=document.getElementById("list"+this.name),t=(document.getElementById("elements"+this.name),e.clientWidth);this.Position+=t,this.calculateExtents(t)},calculateExtents(e){var t=document.getElementById("list"+this.name),a=document.getElementById("elements"+this.name),n=t.clientWidth;0===this.Position&&"number"!==typeof e&&(this.Position=t.style.left?t.style.left:0),this.Position=Math.max(this.Position,-(a.clientWidth-n)),this.Position=Math.min(0,this.Position),t.style.left=this.Position+"px"}},created(){this.loadGames(),window.addEventListener("resize",this.calculateExtents)},destroyed(){window.removeEventListener("resize",this.calculateExtents)}},xe=ye,_e=(a("f8c2"),Object(m["a"])(xe,he,pe,!1,null,null,null)),Se=_e.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"horizontal-scroller"},[e._t("default")],2)},Me=[],Ce={mounted(){const e=this.$el;e.onmousewheel=function(t){e.scrollBy(-t.wheelDelta,0)}}},Ie=Ce,Oe=(a("860d"),Object(m["a"])(Ie,Ee,Me,!1,null,"96606692",null)),je=Oe.exports;a("2ec8");s["a"].config.productionTip=!1,a("93ec"),s["a"].component("container",ee),s["a"].component("slide",re),s["a"].component("unknown-page",me),s["a"].component("game-sort",Se),s["a"].component("horizontal-scroller",je),s["a"].use(_.a),new s["a"]({router:W,render:e=>e(y)}).$mount("#app")},"591c":function(e,t,a){},"59ba":function(e,t,a){},"5faf":function(e,t,a){},6045:function(e,t,a){"use strict";a("591c")},7218:function(e,t,a){},"7bd1":function(e,t,a){},"7e22":function(e,t,a){},8447:function(e,t,a){"use strict";a("7e22")},"860d":function(e,t,a){"use strict";a("3f7b")},"88b1":function(e,t,a){"use strict";a("5faf")},"93ec":function(e,t,a){},b917:function(e,t,a){},c64f:function(e,t,a){},e283:function(e,t,a){"use strict";a("59ba")},ea38:function(e,t,a){"use strict";a("b917")},f8c2:function(e,t,a){"use strict";a("0a01")}});
//# sourceMappingURL=app.40fdad63.js.map